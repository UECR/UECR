!function(){"use strict";function a(a,b){a.hashPrefix(""),b.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"Home"}).when("/championships",{templateUrl:"views/championships.html",controller:"ChampionshipsCtrl",controllerAs:"Championships"}).when("/championships/:cid",{templateUrl:"views/championship.html",controller:"ChampionshipCtrl",controllerAs:"Championship"}).when("/championships/:cid/races",{templateUrl:"views/races.html",controller:"RacesCtrl",controllerAs:"Races"}).when("/championships/:cid/races/:rid",{templateUrl:"views/race.html",controller:"RaceCtrl",controllerAs:"Race"}).when("/drivers",{templateUrl:"views/drivers.html",controller:"DriversCtrl",controllerAs:"Drivers"}).when("/drivers/:did",{templateUrl:"views/driver.html",controller:"DriverCtrl",controllerAs:"Driver"}).when("/hall-of-fame",{templateUrl:"views/hall-of-fame.html",controller:"HofCtrl",controllerAs:"Hof"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}function b(a){}angular.module("uecr",["ngAnimate","ngRoute","ngTouch","ui.bootstrap"]).config(a).run(b),a.$inject=["$locationProvider","$routeProvider"],b.$inject=["Championships"]}(),function(){"use strict";function a(){function a(b){this.id=b.id,this.name=a.name}function b(){this.list=[],c.forEach(function(b){this.list.push(new a(b))},this)}var c=[{id:1,name:"PC"},{id:2,name:"Xbox One"}];return b.prototype.getId=function(a){return this.list.find(function(a){return a.id==this},a)},b.prototype.getName=function(a){return this.list.find(function(a){return a.name==this},a)},new b}angular.module("uecr").factory("Platforms",a)}(),function(){"use strict";function a(){function a(a){this.id=a.id,this.name=a.name}function b(){this.list=[],c.forEach(function(b){this.list.push(new a(b))},this)}var c=[{id:1,name:"Forza Motorsport 6",platform:2,maxPlayers:16},{id:2,name:"Project Cars",platform:1,maxPlayers:16}];return b.prototype.getId=function(a){return this.list.find(function(a){return a.id==this},a)},b.prototype.getName=function(a){return this.list.find(function(a){return a.name==this},a)},b.prototype.getForPlatform=function(a){return this.list.filter(function(b){return b.platform==a},a)},new b}angular.module("uecr").factory("Games",a)}(),function(){"use strict";function a(){function a(a){this.id=a.id,this.name=a.name}function b(){this.list=[],c.forEach(function(b){this.list.push(new a(b))},this)}var c=[{id:1,name:"Brands Hatch",game:1},{id:2,name:"Bernese Alps",game:1},{id:3,name:"Circuit de Catalunya",game:1},{id:4,name:"Circuit de Spa Francorchamps",game:1},{id:5,name:"Daytona International Speedway",game:1},{id:6,name:"Indianapolis Motor Speedway",game:1},{id:7,name:"Le Mans Circuit de la Sarthe",game:1},{id:8,name:"Lime Rock Park",game:1},{id:9,name:"Long Beach",game:1},{id:10,name:"Mazda Raceway Laguna Seca",game:1},{id:11,name:"Mount Panorama Circuit (Bathurst)",game:1},{id:12,name:"NÃ¼rburgring",game:1},{id:13,name:"Prague",game:1},{id:14,name:"Rio",game:1},{id:15,name:"Road America",game:1},{id:16,name:"Road Atlanta",game:1},{id:17,name:"Sebring International Raceway",game:1},{id:18,name:"Silverstone",game:1},{id:19,name:"Test Track",game:1},{id:20,name:"Top Gear",game:1},{id:21,name:"Yas Marina",game:1}];return b.prototype.getId=function(a){return this.list.find(function(a){return a.id==this},a)},b.prototype.getName=function(a){return this.list.find(function(a){return a.name==this},a)},b.prototype.getForGame=function(a){return this.list.filter(function(b){return b.game==a},a)},new b}angular.module("uecr").factory("Tracks",a)}(),function(){"use strict";function a(a){function b(b){this.id=b.id,this.championship=b.championship,this.track=a.getId(b.track),this.date=b.date,this.completed=b.completed,this.results=b.results}function c(){this.list=[],d.forEach(function(a){this.list.push(new b(a))},this)}var d=[{id:1,championship:1,track:1,date:"15/01/17",completed:!0,results:[1,2]},{id:2,championship:1,track:2,date:"22/01/17",completed:!0,results:[2,1]},{id:3,championship:1,track:3,date:"29/01/17",completed:!0,results:[1,2]},{id:4,championship:1,track:4,date:"05/02/17",completed:!0,results:[2,1]},{id:5,championship:1,track:5,date:"12/02/17",completed:!0,results:[1,2]},{id:6,championship:2,track:6,date:"04/02/17",completed:!0,results:[2,1]},{id:7,championship:2,track:7,date:"11/02/17",completed:!0,results:[2,1]},{id:8,championship:2,track:8,date:"18/02/17",completed:!1,results:[]},{id:9,championship:2,track:9,date:"25/02/17",completed:!1,results:[]},{id:10,championship:2,track:10,date:"04/03/17",completed:!1,results:[]}];return c.prototype.getId=function(a){return this.list.find(function(a){return a.id==this},a)},c.prototype.getName=function(a){return this.list.find(function(a){return a.name==this},a)},c.prototype.getForChampionship=function(a){return this.list.filter(function(a){return a.championship==this},a)},new c}angular.module("uecr").factory("Races",a),a.$inject=["Tracks"]}(),function(){"use strict";function a(){function a(a){return a>b.length-1?0:b[a]}var b=[25,18,15,12,10,8,6,4,2,1];return{forPosition:a}}angular.module("uecr").factory("Points",a)}(),function(){"use strict";function a(){function a(a){this.id=a.id,this.name=a.name,this.championships=[]}function b(){this.list=[],c.forEach(function(b){this.list.push(new a(b))},this)}var c=[{id:1,name:"Forza Raivo"},{id:2,name:"MrCableswitch"}];return b.prototype.getId=function(a){return this.list.find(function(a){return a.id==this},a)},b.prototype.getName=function(a){return this.list.find(function(a){return a.name==this},a)},b.prototype.getForChampionship=function(a){return this.list.filter(function(a){return void 0!=a.championships.find(function(a){return a.id==this},this)},a)},new b}angular.module("uecr").factory("Drivers",a)}(),function(){"use strict";function a(a,b,c){function d(a){this.driver=a,this.points=0}function e(e){this.id=e.id,this.name=e.name,this.game=e.game,this.races=[],b.getForChampionship(this.id).forEach(function(a){this.races.push(a)},this),e.drivers.forEach(function(b){a.getId(b).championships.push(this)},this),this.leaderboard=[],a.getForChampionship(this.id).forEach(function(a){this.leaderboard.push(new d(a))},this),this.completed=this.races.length>0,this.races.forEach(function(a){if(a.completed)for(var b=0;b<a.results.length;b++){var d=this.getPosition(a.results[b]),e=this.leaderboard[d];e.points+=c.forPosition(b)}else this.completed=!1},this),this.leaderboard.sort(function(a,b){return a.points===b.points?a.driver.name<b.driver.name?-1:1:a.points>b.points?-1:1})}function f(){this.list=[],g.forEach(function(a){this.list.push(new e(a))},this)}var g=[{id:1,name:"V8 Supercars",game:1,drivers:[1,2]},{id:2,name:"GTE Speciale",game:1,drivers:[1,2]}];return e.prototype.getPosition=function(a){for(var b=0;b<this.leaderboard.length;b++)if(this.leaderboard[b].driver.id==a)return b},e.prototype.getPoints=function(a){return this.leaderboard[this.getPosition(a)].points},f.prototype.getId=function(a){return this.list.find(function(a){return a.id==this},a)},f.prototype.getName=function(a){return this.list.find(function(a){return a.name==this},a)},new f}angular.module("uecr").factory("Championships",a),a.$inject=["Drivers","Races","Points"]}(),function(){"use strict";function a(){return{restrict:"E",scope:{appName:"@"},controller:b,controllerAs:"navigate",templateUrl:"views/navigation.html"}}function b(a,b,c){function d(){var b=a.path();angular.forEach(f.links,function(a){a.active=a.path==="#/"+b.split("/",2)[1]?!0:!1})}function e(a){f.isCollapsed=!f.isCollapsed,a.stopPropagation()}var f=this;f.appName=b.appName,f.isCollapsed=!0,f.toggle=e,f.links=[{name:"Home",path:"#/"},{name:"Championships",path:"#/championships"},{name:"Drivers",path:"#/drivers"},{name:"Hall of Fame",path:"#/hall-of-fame"},{name:"About",path:"#/about"}],d(),b.$on("$locationChangeSuccess",d),c.on("click touchend",function(a){$(a.target).closest("#nav-container").length||b.$apply(function(){f.isCollapsed=!0})})}angular.module("uecr").directive("navigation",a),b.$inject=["$location","$scope","$document"]}(),function(){"use strict";function a(){}angular.module("uecr").controller("HomeCtrl",a)}(),function(){"use strict";function a(a,b){function c(b){a.path("/championships/"+b.id)}var d=this;d.list=b.list,d.onClick=c}angular.module("uecr").controller("ChampionshipsCtrl",a),a.$inject=["$location","Championships"]}(),function(){"use strict";function a(a,b,c){function d(){b.path(b.path()+"/races")}function e(a){b.path("/drivers/"+a.driver.id)}var f=this;f.championship=c.getId(a.cid),f.onCalendarClick=d,f.onDriverClick=e}angular.module("uecr").controller("ChampionshipCtrl",a),a.$inject=["$routeParams","$location","Championships"]}(),function(){"use strict";function a(a,b,c){function d(a){b.path(b.path()+"/"+a.id)}var e=this;e.championship=c.getId(a.cid),e.onRaceClick=d}angular.module("uecr").controller("RacesCtrl",a),a.$inject=["$routeParams","$location","Championships"]}(),function(){"use strict";function a(a,b,c,d,e){function f(a){b.path("/drivers/"+a.id)}var g=this;g.championship=c.getId(a.cid),g.race=d.getId(a.rid),g.results=[],g.race.results.forEach(function(a){this.results.push(e.getId(a))},g),g.onDriverClick=f}angular.module("uecr").controller("RaceCtrl",a),a.$inject=["$routeParams","$location","Championships","Races","Drivers"]}(),function(){"use strict";function a(a,b){function c(b){a.path("/drivers/"+b.id)}var d=this;d.list=b.list,d.onClick=c}angular.module("uecr").controller("DriversCtrl",a),a.$inject=["$location","Drivers"]}(),function(){"use strict";function a(a,b,c){function d(a){b.path("/championships/"+a.id)}var e=this;e.driver=c.getId(a.did),e.onClick=d}angular.module("uecr").controller("DriverCtrl",a),a.$inject=["$routeParams","$location","Drivers"]}(),function(){"use strict";function a(){}angular.module("uecr").controller("HofCtrl",a)}(),function(){"use strict";function a(){}angular.module("uecr").controller("AboutCtrl",a)}(),angular.module("uecr").run(["$templateCache",function(a){"use strict";a.put("views/about.html","<p>Some info will go here...</p>"),a.put("views/championship.html",'<h1>{{Championship.championship.name}}</h1> <button class="btn btn-default" type="button" ng-click="Championship.onCalendarClick()">View Race Calendar</button> <h3>Leaderboard</h3> <table class="table table-hover"> <thead> <tr> <th class="col-xs-2">Position</th> <th class="col-xs-4">Driver</th> <th class="col-xs-2">Points</th> </tr> </thead> <tbody> <tr ng-repeat="l in Championship.championship.leaderboard" ng-click="Championship.onDriverClick(l)"> <td class="col-xs-2">{{$index + 1}}</td> <td class="col-xs-4">{{l.driver.name}}</td> <td class="col-xs-2">{{l.points}}</td> </tr> </tbody> </table>'),a.put("views/championships.html",'<h1>Championships:</h1> <table class="table table-hover"> <thead> <tr> <th class="col-xs-4">Name</th> <th class="col-xs-3">Start Date</th> <th class="col-xs-2">Races</th> <th class="col-xs-2">Completed</th> </tr> </thead> <tbody> <tr ng-repeat="c in Championships.list" ng-click="Championships.onClick(c)"> <td class="col-xs-4">{{c.name}}</td> <td class="col-xs-2">{{c.name}}</td> <td class="col-xs-2">{{c.races.length}}</td> <td class="col-xs-2">{{c.completed ? "Yes" : "No"}}</td> </tr> </tbody> </table>'),a.put("views/driver.html",'<h2>Profile: {{Driver.driver.name}}</h2> <h1>Championships:</h1> <table class="table table-hover"> <thead> <tr> <th class="col-xs-4">Name</th> <th class="col-xs-2">Position</th> <th class="col-xs-2">Points</th> <th class="col-xs-2">Active</th> </tr> </thead> <tbody> <tr ng-repeat="c in Driver.driver.championships" ng-click="Driver.onClick(c)"> <td class="col-xs-4">{{c.name}}</td> <td class="col-xs-2">{{c.getPosition(Driver.driver.id)+1}}</td> <td class="col-xs-2">{{c.getPoints(Driver.driver.id)}}</td> <td class="col-xs-2">{{c.completed ? "No" : "Yes"}}</td> </tr> </tbody> </table>'),a.put("views/drivers.html",'<h1>Drivers:</h1> <table class="table table-hover"> <thead> <tr> <th class="col-xs-4">Name</th> <th class="col-xs-4">No. of championships</th> </tr> </thead> <tbody> <tr ng-repeat="d in Drivers.list" ng-click="Drivers.onClick(d)"> <td class="col-xs-4">{{d.name}}</td> <td class="col-xs-4">{{d.championships.length}}</td> </tr> </tbody> </table>'),a.put("views/hall-of-fame.html","<p>Hall of fame will go here...</p>"),a.put("views/home.html","<h3>Welcome to Ultimate Endurance Championship Racing!</h3>"),a.put("views/navigation.html",'<div class="navbar-header" id="nav-container"> <button type="button" class="navbar-toggle collapsed" ng-click="navigate.toggle($event)"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#/">{{navigate.appName}}</a> </div> <div class="collapse navbar-collapse" uib-collapse="navigate.isCollapsed"> <ul class="nav navbar-nav"> <li ng-repeat="link in navigate.links" ng-click="navigate.isCollapsed = true" ng-class="{active: link.active, dropdown: link.dropdown}"> <a href="{{link.path}}" ng-if="!link.dropdown">{{link.name}}</a> <a href="{{link.path}}" ng-if="link.dropdown" class="dropdown-toggle" data-toggle="dropdown">{{link.name}}<span class="caret"></span></a> </li> </ul> </div>'),a.put("views/race.html",'<h3>Race Details</h3> <p>Championship: {{Race.championship.name}}</p> <p>Date: {{Race.race.date}}</p> <p>Track: {{Race.race.track.name}}</p> <div ng-show="Race.race.completed"> <h3>Race Result:</h3> <table class="table table-hover"> <thead> <tr> <th class="col-xs-2">Position</th> <th class="col-xs-4">Driver</th> </tr> </thead> <tbody> <tr ng-repeat="d in Race.results" ng-click="Race.onDriverClick(d)"> <td class="col-xs-2">{{$index + 1}}</td> <td class="col-xs-4">{{d.name}}</td> </tr> </tbody> </table> </div>'),a.put("views/races.html",'<h1>{{Races.championship.name}} Race Calendar</h1> <table class="table table-hover"> <thead> <tr> <th class="col-xs-2">Date</th> <th class="col-xs-4">Track</th> </tr> </thead> <tbody> <tr ng-repeat="r in Races.championship.races" ng-click="Races.onRaceClick(r)"> <td class="col-xs-4">{{r.date}}</td> <td class="col-xs-2">{{r.track.name}}</td> </tr> </tbody> </table>')}]);